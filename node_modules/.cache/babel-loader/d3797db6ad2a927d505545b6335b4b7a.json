{"ast":null,"code":"/**\n * This file contains information and classes for the various kinds of styles\n * used in TeX. It provides a generic `Style` class, which holds information\n * about a specific style. It then provides instances of all the different kinds\n * of styles possible, and provides functions to move between them and get\n * information about them.\n */\nvar sigmas = require(\"./fontMetrics.js\").sigmas;\n\nvar metrics = [{}, {}, {}];\nvar i;\n\nfor (var key in sigmas) {\n  if (sigmas.hasOwnProperty(key)) {\n    for (i = 0; i < 3; i++) {\n      metrics[i][key] = sigmas[key][i];\n    }\n  }\n}\n\nfor (i = 0; i < 3; i++) {\n  metrics[i].emPerEx = sigmas.xHeight[i] / sigmas.quad[i];\n}\n/**\n * The main style class. Contains a unique id for the style, a size (which is\n * the same for cramped and uncramped version of a style), a cramped flag, and a\n * size multiplier, which gives the size difference between a style and\n * textstyle.\n */\n\n\nfunction Style(id, size, multiplier, cramped) {\n  this.id = id;\n  this.size = size;\n  this.cramped = cramped;\n  this.sizeMultiplier = multiplier;\n  this.metrics = metrics[size > 0 ? size - 1 : 0];\n}\n/**\n * Get the style of a superscript given a base in the current style.\n */\n\n\nStyle.prototype.sup = function () {\n  return styles[sup[this.id]];\n};\n/**\n * Get the style of a subscript given a base in the current style.\n */\n\n\nStyle.prototype.sub = function () {\n  return styles[sub[this.id]];\n};\n/**\n * Get the style of a fraction numerator given the fraction in the current\n * style.\n */\n\n\nStyle.prototype.fracNum = function () {\n  return styles[fracNum[this.id]];\n};\n/**\n * Get the style of a fraction denominator given the fraction in the current\n * style.\n */\n\n\nStyle.prototype.fracDen = function () {\n  return styles[fracDen[this.id]];\n};\n/**\n * Get the cramped version of a style (in particular, cramping a cramped style\n * doesn't change the style).\n */\n\n\nStyle.prototype.cramp = function () {\n  return styles[cramp[this.id]];\n};\n/**\n * HTML class name, like \"displaystyle cramped\"\n */\n\n\nStyle.prototype.cls = function () {\n  return sizeNames[this.size] + (this.cramped ? \" cramped\" : \" uncramped\");\n};\n/**\n * HTML Reset class name, like \"reset-textstyle\"\n */\n\n\nStyle.prototype.reset = function () {\n  return resetNames[this.size];\n};\n/**\n * Return if this style is tightly spaced (scriptstyle/scriptscriptstyle)\n */\n\n\nStyle.prototype.isTight = function () {\n  return this.size >= 2;\n}; // IDs of the different styles\n\n\nvar D = 0;\nvar Dc = 1;\nvar T = 2;\nvar Tc = 3;\nvar S = 4;\nvar Sc = 5;\nvar SS = 6;\nvar SSc = 7; // String names for the different sizes\n\nvar sizeNames = [\"displaystyle textstyle\", \"textstyle\", \"scriptstyle\", \"scriptscriptstyle\"]; // Reset names for the different sizes\n\nvar resetNames = [\"reset-textstyle\", \"reset-textstyle\", \"reset-scriptstyle\", \"reset-scriptscriptstyle\"]; // Instances of the different styles\n\nvar styles = [new Style(D, 0, 1.0, false), new Style(Dc, 0, 1.0, true), new Style(T, 1, 1.0, false), new Style(Tc, 1, 1.0, true), new Style(S, 2, 0.7, false), new Style(Sc, 2, 0.7, true), new Style(SS, 3, 0.5, false), new Style(SSc, 3, 0.5, true)]; // Lookup tables for switching from one style to another\n\nvar sup = [S, Sc, S, Sc, SS, SSc, SS, SSc];\nvar sub = [Sc, Sc, Sc, Sc, SSc, SSc, SSc, SSc];\nvar fracNum = [T, Tc, S, Sc, SS, SSc, SS, SSc];\nvar fracDen = [Tc, Tc, Sc, Sc, SSc, SSc, SSc, SSc];\nvar cramp = [Dc, Dc, Tc, Tc, Sc, Sc, SSc, SSc]; // We only export some of the styles. Also, we don't export the `Style` class so\n// no more styles can be generated.\n\nmodule.exports = {\n  DISPLAY: styles[D],\n  TEXT: styles[T],\n  SCRIPT: styles[S],\n  SCRIPTSCRIPT: styles[SS]\n};","map":{"version":3,"sources":["/Users/justinf/perseus-configured/node_modules/katex/src/Style.js"],"names":["sigmas","require","metrics","i","key","hasOwnProperty","emPerEx","xHeight","quad","Style","id","size","multiplier","cramped","sizeMultiplier","prototype","sup","styles","sub","fracNum","fracDen","cramp","cls","sizeNames","reset","resetNames","isTight","D","Dc","T","Tc","S","Sc","SS","SSc","module","exports","DISPLAY","TEXT","SCRIPT","SCRIPTSCRIPT"],"mappings":"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","sourcesContent":["/**\n * This file contains information and classes for the various kinds of styles\n * used in TeX. It provides a generic `Style` class, which holds information\n * about a specific style. It then provides instances of all the different kinds\n * of styles possible, and provides functions to move between them and get\n * information about them.\n */\n\nvar sigmas = require(\"./fontMetrics.js\").sigmas;\n\nvar metrics = [{}, {}, {}];\nvar i;\nfor (var key in sigmas) {\n    if (sigmas.hasOwnProperty(key)) {\n        for (i = 0; i < 3; i++) {\n            metrics[i][key] = sigmas[key][i];\n        }\n    }\n}\nfor (i = 0; i < 3; i++) {\n    metrics[i].emPerEx = sigmas.xHeight[i] / sigmas.quad[i];\n}\n\n/**\n * The main style class. Contains a unique id for the style, a size (which is\n * the same for cramped and uncramped version of a style), a cramped flag, and a\n * size multiplier, which gives the size difference between a style and\n * textstyle.\n */\nfunction Style(id, size, multiplier, cramped) {\n    this.id = id;\n    this.size = size;\n    this.cramped = cramped;\n    this.sizeMultiplier = multiplier;\n    this.metrics = metrics[size > 0 ? size - 1 : 0];\n}\n\n/**\n * Get the style of a superscript given a base in the current style.\n */\nStyle.prototype.sup = function() {\n    return styles[sup[this.id]];\n};\n\n/**\n * Get the style of a subscript given a base in the current style.\n */\nStyle.prototype.sub = function() {\n    return styles[sub[this.id]];\n};\n\n/**\n * Get the style of a fraction numerator given the fraction in the current\n * style.\n */\nStyle.prototype.fracNum = function() {\n    return styles[fracNum[this.id]];\n};\n\n/**\n * Get the style of a fraction denominator given the fraction in the current\n * style.\n */\nStyle.prototype.fracDen = function() {\n    return styles[fracDen[this.id]];\n};\n\n/**\n * Get the cramped version of a style (in particular, cramping a cramped style\n * doesn't change the style).\n */\nStyle.prototype.cramp = function() {\n    return styles[cramp[this.id]];\n};\n\n/**\n * HTML class name, like \"displaystyle cramped\"\n */\nStyle.prototype.cls = function() {\n    return sizeNames[this.size] + (this.cramped ? \" cramped\" : \" uncramped\");\n};\n\n/**\n * HTML Reset class name, like \"reset-textstyle\"\n */\nStyle.prototype.reset = function() {\n    return resetNames[this.size];\n};\n\n/**\n * Return if this style is tightly spaced (scriptstyle/scriptscriptstyle)\n */\nStyle.prototype.isTight = function() {\n    return this.size >= 2;\n};\n\n// IDs of the different styles\nvar D = 0;\nvar Dc = 1;\nvar T = 2;\nvar Tc = 3;\nvar S = 4;\nvar Sc = 5;\nvar SS = 6;\nvar SSc = 7;\n\n// String names for the different sizes\nvar sizeNames = [\n    \"displaystyle textstyle\",\n    \"textstyle\",\n    \"scriptstyle\",\n    \"scriptscriptstyle\"\n];\n\n// Reset names for the different sizes\nvar resetNames = [\n    \"reset-textstyle\",\n    \"reset-textstyle\",\n    \"reset-scriptstyle\",\n    \"reset-scriptscriptstyle\"\n];\n\n// Instances of the different styles\nvar styles = [\n    new Style(D, 0, 1.0, false),\n    new Style(Dc, 0, 1.0, true),\n    new Style(T, 1, 1.0, false),\n    new Style(Tc, 1, 1.0, true),\n    new Style(S, 2, 0.7, false),\n    new Style(Sc, 2, 0.7, true),\n    new Style(SS, 3, 0.5, false),\n    new Style(SSc, 3, 0.5, true)\n];\n\n// Lookup tables for switching from one style to another\nvar sup = [S, Sc, S, Sc, SS, SSc, SS, SSc];\nvar sub = [Sc, Sc, Sc, Sc, SSc, SSc, SSc, SSc];\nvar fracNum = [T, Tc, S, Sc, SS, SSc, SS, SSc];\nvar fracDen = [Tc, Tc, Sc, Sc, SSc, SSc, SSc, SSc];\nvar cramp = [Dc, Dc, Tc, Tc, Sc, Sc, SSc, SSc];\n\n// We only export some of the styles. Also, we don't export the `Style` class so\n// no more styles can be generated.\nmodule.exports = {\n    DISPLAY: styles[D],\n    TEXT: styles[T],\n    SCRIPT: styles[S],\n    SCRIPTSCRIPT: styles[SS]\n};\n"]},"metadata":{},"sourceType":"script"}